/* global $, console, analytics *//* Button Click Event */function showError(){$("#progress").toggle();$("#session-link").attr("href",".").removeAttr("target").text("Something went wrong while converting...").show()}function fetchSession(e,t){var n=new FormData;n.append("document_id",e);n.append("expire",t);$.ajax({type:"POST",contentType:!1,processData:!1,data:n,dataType:"json",url:"sessions",error:function(e){console.log(e);showError()},statusCode:{200:function(e){$("button, #progress").toggle();$("#session-link").text(e.session_url).attr("href",e.session_url).show();$("html, body").delay(1e3).animate({scrollTop:$("#session-link").offset().top},2e3);$("iframe").attr("src",e.session_url).delay(1e3).fadeIn("slow")},202:function(){fetchSession(e,t)}}})}$(".upload").click(function(){var e=$(this);$("#session-link").hide();if(!e.hasClass("active")){$(".upload").removeClass("active");$(this).addClass("active");$("form").toggle()}});$("#desktop-upload-form").submit(function(){$("button").blur();var e=new FormData;e.append("file",$("#file")[0].files[0]);var t=$("#desktop-expiration").is(":checked")?"no_expire":"expire";$("button, #progress").toggle("fast");$.ajax({type:"POST",contentType:!1,processData:!1,data:e,dataType:"json",url:"desktop-upload",error:function(e){console.log(e);showError();analytics.track("Desktop Conversion",{success:"false"})}}).done(function(e){console.log("Document ID is: "+e.id);fetchSession(e.id,t);analytics.track("Desktop Conversion",{success:"true"})});return!1});$("#url-upload-form").submit(function(){$("button").blur();var e=new FormData;e.append("document-url",$("#file-url").val());var t=$("#url-expiration").is(":checked")?"no_expire":"expire";$("button, #progress").toggle("fast");$.ajax({type:"POST",contentType:!1,processData:!1,data:e,dataType:"json",url:"url-upload",error:function(e){console.log(e);showError();analytics.track("URL Conversion",{success:"false"})}}).done(function(e){console.log("Document ID is: "+e.id);fetchSession(e.id,t);analytics.track("URL Conversion",{success:"true"})});return!1});